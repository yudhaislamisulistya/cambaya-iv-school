/*! jQuery Flex Tree 1.2.0 2020-08-19 */
!function(e){var t={};e.fn.flexTree=function(a){var n;if(!1===(a=e.extend(!0,{id:void 0,targetElement:e(this),type:void 0,debug:!1,name:"flex_tree",items:{},className:"flex-tree",buildTree:!0,collapsed:!1,collapsable:!0,addControlOnParent:!0,threeState:!0},t,a)).collapsable&&(a.collapsed=!1),!1===a.addControlOnParent&&(a.threeState=!1),a.buildTree){n=e("<ul/>").attr("class",a.className).attr("id",a.id);var l=function(t){t=e.extend(!0,{items:{},ul:n,collapsed:!1,collapsable:!0,addControlOnParent:!0,threeState:!0},t),e.each(t.items,(function(a,n){if("object"==typeof n.childrens&&n.childrens.length){var p=e("<li/>");!t.addControlOnParent||"checkbox"!==t.type&&"radio"!==t.type||p.append(e("<input/>").attr("type",t.type).attr("name","radio"===t.type||!1===t.threeState?n.name||t.name:n.name).attr("name",n.name).attr("value",n.value).attr("class","node").attr("id",n.id).prop("checked",n.checked)),p.append(e('<span class="node"/> ').addClass(t.collapsable?t.collapsed?"open":"closed":"").append(e("<label/>").append(n.label).attr("class","node")));var i=e("<ul/>");t.ul.append(p),p.append(i),!0===t.collapsed&&i.hide(),l({items:n.childrens,name:t.name,ul:i,collapsed:t.collapsed,collapsable:t.collapsable,type:t.type,addControlOnParent:t.addControlOnParent,threeState:t.threeState})}else t.ul.append(e("<li/>").append(e("<label/>").append(void 0!==t.type?e("<input/>").attr("type",t.type).attr("name","checkbox"===t.type&&n.name||t.name).attr("value",n.value).attr("class","leaf").attr("id",n.id).prop("checked",n.checked):void 0).append(n.label)))}))};l(a),e(a.targetElement).append(n)}else(n=a.targetElement).addClass(a.className);if(a.collapsable&&e("li span.node",n).on("click",(function(t){e(this).toggleClass("closed").toggleClass("open").next().toggle(200)})),a.threeState&&"checkbox"===a.type){e('input[type="checkbox"].node',n).on("click",(function(t){e(this).removeClass("indeterminate").prop("indeterminate",!1);var a=e(this);a.parent().find('ul input[type="checkbox"]').each((function(){e(this).prop("checked",a.prop("checked")).prop("indeterminate",!1).removeClass("indeterminate")}))}));var p=function(){var t=e(this).closest("ul").prevAll('input[type="checkbox"].node');if(t.length){e(this).prop("checked")||t.prop("checked",!1);var a=e(this).prop("checked"),n=e(this).prop("checked");e(this).closest("li").siblings("li").find("input:first").each((function(){e(this).prop("checked")&&!0!==e(this).prop("indeterminate")||(a=!1),(e(this).prop("checked")||!0===e(this).prop("indeterminate"))&&(n=!0)})),n||!0===e(this).prop("indeterminate")?t.addClass("indeterminate").prop("indeterminate",!0):t.removeClass("indeterminate").prop("indeterminate",!1),a&&t.prop("checked",!0).prop("indeterminate",!1).removeClass("indeterminate"),p.apply(t)}};e('input[type="checkbox"]',n).on("click",p),e('input[type="checkbox"].leaf',n).each((function(){p.apply(this)}))}}}(jQuery);